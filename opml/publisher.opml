<?xml version="1.0" encoding="ISO-8859-1"?>
<!-- OPML generated by OPML Editor v10.1a16 on Sun, 02 Feb 2014 02:51:24 GMT -->
<opml version="2.0">
	<head>
		<title>Fargo Publisher</title>
		<dateCreated>Sat, 01 Feb 2014 18:36:30 GMT</dateCreated>
		<dateModified>Sun, 02 Feb 2014 02:51:23 GMT</dateModified>
		<ownerName></ownerName>
		<ownerId>http://davewiner.com/</ownerId>
		<expansionState>1, 17, 20, 36, 48, 51, 52, 55, 60, 62, 68, 69, 70, 75, 80, 81, 86, 87, 89, 95, 97, 103, 104, 105, 125, 129, 132, 141, 142, 145, 148, 151, 170, 172, 177, 178, 188, 189, 203, 210, 215, 216, 217, 222, 223, 224, 228, 238, 241, 242, 246, 263, 277</expansionState>
		<vertScrollState>29</vertScrollState>
		<windowTop>144</windowTop>
		<windowLeft>813</windowLeft>
		<windowBottom>1147</windowBottom>
		<windowRight>2033</windowRight>
		</head>
	<body>
		<outline text="Fargo Publisher" content-type="text/javascript" created="Fri, 17 Jan 2014 21:46:11 GMT" name="fargoPub" pgfnum="35785" type="html">
			<outline text="//Copyright 2014, Small Picture, Inc." created="Mon, 20 Jan 2014 03:29:04 GMT" pgfnum="35921">
				<outline text="//Last update: &lt;%now%&gt; Eastern." created="Wed, 22 Jan 2014 00:59:32 GMT" pgfnum="36150"/>
				</outline>
			<outline text="" created="Mon, 20 Jan 2014 03:31:20 GMT" pgfnum="35931"/>
			<outline text="var myVersion = &quot;0.75&quot;; " created="Wed, 22 Jan 2014 16:54:00 GMT" pgfnum="36343"/>
			<outline text="" created="Wed, 22 Jan 2014 23:51:21 GMT" pgfnum="36424"/>
			<outline text="var s3HostingPath = process.env.fpHostingPath; //where we store all the users' HTML and XML files" created="Wed, 22 Jan 2014 02:50:48 GMT" pgfnum="36217"/>
			<outline text="var s3defaultType = &quot;text/plain&quot;;" created="Wed, 22 Jan 2014 02:52:53 GMT" pgfnum="36219"/>
			<outline text="var s3defaultAcl = &quot;public-read&quot;;" created="Wed, 22 Jan 2014 02:52:53 GMT" pgfnum="36219"/>
			<outline text="" created="Thu, 23 Jan 2014 16:08:24 GMT" pgfnum="36417"/>
			<outline text="var s3DataPath = process.env.fpDataPath;" created="Thu, 23 Jan 2014 16:08:24 GMT" pgfnum="36418"/>
			<outline text="var s3NamesPath = s3DataPath + &quot;names&quot;; " created="Thu, 23 Jan 2014 16:08:47 GMT" pgfnum="36419"/>
			<outline text="var s3StatsPath = s3DataPath + &quot;stats&quot;; " created="Thu, 23 Jan 2014 16:08:47 GMT" pgfnum="36419"/>
			<outline text="" created="Tue, 28 Jan 2014 00:15:08 GMT" pgfnum="36529"/>
			<outline text="var myDomain = process.env.fpDomain; //something like smallpict.com" created="Wed, 22 Jan 2014 03:29:45 GMT" pgfnum="36252"/>
			<outline text="" created="Sat, 01 Feb 2014 18:42:45 GMT" pgfnum="36698"/>
			<outline text="var myPort;" created="Sat, 01 Feb 2014 18:42:45 GMT" pgfnum="36699"/>
			<outline text="if (process.env.PORT == undefined) { //it's not Heroku -- 2/1/14 by DW" created="Sat, 01 Feb 2014 18:42:45 GMT" pgfnum="36700">
				<outline text="myPort = process.env.fpServerPort;" created="Sat, 01 Feb 2014 18:43:25 GMT" pgfnum="36705"/>
				<outline text="}" created="Sat, 01 Feb 2014 18:43:07 GMT" pgfnum="36702"/>
				</outline>
			<outline text="else {" created="Sat, 01 Feb 2014 18:43:09 GMT" pgfnum="36703">
				<outline text="myPort = process.env.PORT;" created="Sat, 01 Feb 2014 18:43:31 GMT" pgfnum="36706"/>
				<outline text="}" created="Sat, 01 Feb 2014 18:43:11 GMT" pgfnum="36704"/>
				</outline>
			<outline text="" created="Sat, 01 Feb 2014 18:42:45 GMT" pgfnum="36701"/>
			<outline text="var myPort = process.env.fpServerPort; //what port should the server run on?" isComment="true" created="Fri, 24 Jan 2014 15:15:40 GMT" pgfnum="36484"/>
			<outline text="" created="Wed, 22 Jan 2014 02:50:58 GMT" pgfnum="36218"/>
			<outline text="var maxChanges = 100;" created="Wed, 29 Jan 2014 22:10:45 GMT" pgfnum="36569"/>
			<outline text="var nameChangesFile = &quot;changes.json&quot;;" created="Wed, 29 Jan 2014 22:10:53 GMT" pgfnum="36570"/>
			<outline text="" created="Wed, 29 Jan 2014 22:11:12 GMT" pgfnum="36571"/>
			<outline text="var http = require (&quot;http&quot;);" created="Thu, 26 Dec 2013 23:02:58 GMT" pgfnum="34549"/>
			<outline text="var request = require (&quot;request&quot;);"/>
			<outline text="var urlpack = require (&quot;url&quot;);" created="Tue, 21 Jan 2014 00:09:23 GMT" pgfnum="36074"/>
			<outline text="var AWS = require (&quot;aws-sdk&quot;);"/>
			<outline text="var s3 = new AWS.S3 ();"/>
			<outline text="" created="Tue, 21 Jan 2014 20:50:25 GMT" pgfnum="36099"/>
			<outline text="function consoleLog (s) {" created="Wed, 29 Jan 2014 02:17:23 GMT" pgfnum="36549">
				<outline text="console.log (new Date ().toLocaleTimeString () + &quot; -- &quot; + s);" created="Wed, 29 Jan 2014 02:20:19 GMT" pgfnum="36552"/>
				<outline text="}" created="Wed, 29 Jan 2014 02:17:32 GMT" pgfnum="36551"/>
				</outline>
			<outline text="function stringLower (s) {" created="Thu, 30 Jan 2014 02:37:47 GMT" pgfnum="36557">
				<outline text="return (s.toLowerCase ());" created="Thu, 30 Jan 2014 02:37:52 GMT" pgfnum="36558"/>
				<outline text="}" created="Thu, 30 Jan 2014 02:38:01 GMT" pgfnum="36559"/>
				</outline>
			<outline text="function endsWith (s, possibleEnding, flUnicase) {" created="Wed, 27 Nov 2013 21:58:15 GMT" pgfnum="32470">
				<outline text="if ((s == undefined) || (s.length == 0)) { " created="Wed, 01 Jan 2014 23:29:44 GMT" pgfnum="35184">
					<outline text="return (false);" created="Wed, 01 Jan 2014 23:29:49 GMT" pgfnum="35185"/>
					<outline text="}" created="Wed, 01 Jan 2014 23:29:52 GMT" pgfnum="35186"/>
					</outline>
				<outline text="var ixstring = s.length - 1;" created="Wed, 27 Nov 2013 22:09:56 GMT" pgfnum="32496"/>
				<outline text="if (flUnicase == undefined) {" created="Wed, 27 Nov 2013 21:59:59 GMT" pgfnum="32482">
					<outline text="flUnicase = true;" created="Wed, 27 Nov 2013 22:00:10 GMT" pgfnum="32483"/>
					<outline text="}" created="Wed, 27 Nov 2013 22:00:14 GMT" pgfnum="32484"/>
					</outline>
				<outline text="if (flUnicase) {" created="Wed, 27 Nov 2013 22:00:49 GMT" pgfnum="32485">
					<outline text="for (var i = possibleEnding.length - 1; i &gt;= 0; i--) {" created="Wed, 27 Nov 2013 21:58:48 GMT" pgfnum="32476">
						<outline text="if (stringLower (s [ixstring--]) != stringLower (possibleEnding [i])) {" created="Wed, 27 Nov 2013 21:59:05 GMT" pgfnum="32478">
							<outline text="return (false);" created="Wed, 27 Nov 2013 21:59:34 GMT" pgfnum="32479"/>
							<outline text="}" created="Wed, 27 Nov 2013 21:59:38 GMT" pgfnum="32480"/>
							</outline>
						<outline text="}" created="Wed, 27 Nov 2013 21:59:01 GMT" pgfnum="32477"/>
						</outline>
					<outline text="}" created="Wed, 27 Nov 2013 22:00:58 GMT" pgfnum="32486"/>
					</outline>
				<outline text="else {" created="Wed, 27 Nov 2013 22:01:08 GMT" pgfnum="32487">
					<outline text="for (var i = possibleEnding.length - 1; i &gt;= 0; i--) {" created="Wed, 27 Nov 2013 21:58:48 GMT" pgfnum="32476">
						<outline text="if (s [ixstring--] != possibleEnding [i]) {" created="Wed, 27 Nov 2013 21:59:05 GMT" pgfnum="32478">
							<outline text="return (false);" created="Wed, 27 Nov 2013 21:59:34 GMT" pgfnum="32479"/>
							<outline text="}" created="Wed, 27 Nov 2013 21:59:38 GMT" pgfnum="32480"/>
							</outline>
						<outline text="}" created="Wed, 27 Nov 2013 21:59:01 GMT" pgfnum="32477"/>
						</outline>
					<outline text="}" created="Wed, 27 Nov 2013 22:01:15 GMT" pgfnum="32488"/>
					</outline>
				<outline text="return (true);" created="Wed, 27 Nov 2013 21:59:44 GMT" pgfnum="32481"/>
				<outline text="}" created="Wed, 27 Nov 2013 21:58:43 GMT" pgfnum="32475"/>
				</outline>
			<outline text="function padWithZeros (num, ctplaces) {" created="Mon, 20 Jan 2014 03:54:35 GMT" pgfnum="35951">
				<outline text="var s = num.toString ();" created="Thu, 06 Jun 2013 19:04:50 GMT" pgfnum="25301"/>
				<outline text="while (s.length &lt; ctplaces) {" created="Thu, 06 Jun 2013 19:04:23 GMT" pgfnum="25299">
					<outline text="s = &quot;0&quot; + s;" created="Thu, 06 Jun 2013 19:05:07 GMT" pgfnum="25302"/>
					<outline text="}" created="Thu, 06 Jun 2013 19:04:43 GMT" pgfnum="25300"/>
					</outline>
				<outline text="return (s);" created="Thu, 06 Jun 2013 19:12:58 GMT" pgfnum="25311"/>
				<outline text="}" created="Mon, 20 Jan 2014 03:54:43 GMT" pgfnum="35952"/>
				</outline>
			<outline text="function isAlpha (ch) {" created="Wed, 23 Jan 2013 15:16:34 GMT" pgfnum="17539">
				<outline text="return (((ch &gt;= 'a') &amp;&amp; (ch &lt;= 'z')) || ((ch &gt;= 'A') &amp;&amp; (ch &lt;= 'Z')));" created="Wed, 23 Jan 2013 15:17:06 GMT" pgfnum="17541"/>
				<outline text="}" created="Mon, 20 Jan 2014 04:13:24 GMT" pgfnum="35962"/>
				</outline>
			<outline text="function isNumeric (ch) {" created="Wed, 22 Jan 2014 15:27:48 GMT" pgfnum="36287">
				<outline text="return ((ch &gt;= '0') &amp;&amp; (ch &lt;= '9'));" created="Wed, 22 Jan 2014 15:27:56 GMT" pgfnum="36289"/>
				<outline text="}" created="Wed, 22 Jan 2014 15:27:53 GMT" pgfnum="36288"/>
				</outline>
			<outline text="function cleanName (name) {" created="Wed, 22 Jan 2014 15:21:12 GMT" pgfnum="36268">
				<outline text="var s = &quot;&quot;;" created="Wed, 22 Jan 2014 15:24:49 GMT" pgfnum="36279"/>
				<outline text="for (var i = 0; i &lt; name.length; i++) {" created="Wed, 22 Jan 2014 15:24:49 GMT" pgfnum="36281">
					<outline text="var ch = name [i];" created="Wed, 22 Jan 2014 15:23:24 GMT" pgfnum="36275"/>
					<outline text="if (isAlpha (ch) || isNumeric (ch)) {" created="Wed, 22 Jan 2014 15:25:48 GMT" pgfnum="36283">
						<outline text="s += ch;" created="Wed, 22 Jan 2014 15:26:24 GMT" pgfnum="36285"/>
						<outline text="}" created="Wed, 22 Jan 2014 15:26:13 GMT" pgfnum="36284"/>
						</outline>
					<outline text="}" created="Wed, 22 Jan 2014 15:25:05 GMT" pgfnum="36282"/>
					</outline>
				<outline text="return (s.toLowerCase (s));" created="Wed, 22 Jan 2014 15:27:03 GMT" pgfnum="36286"/>
				<outline text="}" created="Wed, 22 Jan 2014 15:21:19 GMT" pgfnum="36269"/>
				</outline>
			<outline text="function scrapeTagValue (sourcestring, tagname) {" created="Tue, 21 Jan 2014 21:22:02 GMT" pgfnum="36125">
				<outline text="var s = sourcestring; //work with a copy" created="Tue, 21 Jan 2014 21:23:41 GMT" pgfnum="36130"/>
				<outline text="var opentag = &quot;&lt;&quot; + tagname + &quot;&gt;&quot;, closetag = &quot;&lt;/&quot; + tagname + &quot;&gt;&quot;;" created="Tue, 21 Jan 2014 21:22:23 GMT" pgfnum="36129"/>
				<outline text="var ix = s.indexOf (opentag);" created="Tue, 21 Jan 2014 21:05:39 GMT" pgfnum="36110"/>
				<outline text="if (ix &gt;= 0) {" created="Tue, 21 Jan 2014 21:09:43 GMT" pgfnum="36120">
					<outline text="s = s.substr (ix + opentag.length);" created="Tue, 21 Jan 2014 21:07:02 GMT" pgfnum="36115"/>
					<outline text="ix = s.indexOf (closetag);" created="Tue, 21 Jan 2014 21:07:55 GMT" pgfnum="36116"/>
					<outline text="if (ix &gt;= 0) {" created="Tue, 21 Jan 2014 21:11:21 GMT" pgfnum="36122">
						<outline text="s = s.substr (0, ix);" created="Tue, 21 Jan 2014 21:08:03 GMT" pgfnum="36117"/>
						<outline text="return (s);" created="Tue, 21 Jan 2014 21:08:46 GMT" pgfnum="36119"/>
						<outline text="}" created="Tue, 21 Jan 2014 21:11:32 GMT" pgfnum="36123"/>
						</outline>
					<outline text="}" created="Tue, 21 Jan 2014 21:09:58 GMT" pgfnum="36121"/>
					</outline>
				<outline text="return (&quot;&quot;);" created="Tue, 21 Jan 2014 21:24:10 GMT" pgfnum="36131"/>
				<outline text="}" created="Tue, 21 Jan 2014 21:22:13 GMT" pgfnum="36128"/>
				</outline>
			<outline text="function httpReadUrl (url, callback) {" created="Mon, 20 Jan 2014 17:26:34 GMT" pgfnum="36035">
				<outline text="request (url, function (error, response, body) {">
					<outline text="if (!error &amp;&amp; response.statusCode == 200) {">
						<outline text="callback (body) "/>
						<outline text="}"/>
						</outline>
					<outline text="});"/>
					</outline>
				<outline text="}" created="Mon, 20 Jan 2014 17:26:49 GMT" pgfnum="36038"/>
				</outline>
			<outline text="function s3SplitPath (path) { //split path like this: /tmp.scripting.com/testing/one.txt -- into bucketname and path." created="Wed, 22 Jan 2014 23:00:12 GMT" pgfnum="36404">
				<outline text="var bucketname = &quot;&quot;;" created="Wed, 22 Jan 2014 23:02:12 GMT" pgfnum="36406"/>
				<outline text="if (path.length &gt; 0) {" created="Mon, 20 Jan 2014 03:38:45 GMT" pgfnum="35942">
					<outline text="if (path [0] == &quot;/&quot;) { //delete the slash" created="Mon, 20 Jan 2014 03:39:22 GMT" pgfnum="35945">
						<outline text="path = path.substr (1); " created="Mon, 20 Jan 2014 03:40:20 GMT" pgfnum="35947"/>
						<outline text="}" created="Mon, 20 Jan 2014 03:39:30 GMT" pgfnum="35946"/>
						</outline>
					<outline text="var ix = path.indexOf (&quot;/&quot;);"/>
					<outline text="bucketname = path.substr (0, ix);" created="Mon, 20 Jan 2014 03:43:33 GMT" pgfnum="35948"/>
					<outline text="path = path.substr (ix + 1);" created="Mon, 20 Jan 2014 03:44:19 GMT" pgfnum="35949"/>
					<outline text="}" created="Mon, 20 Jan 2014 03:38:57 GMT" pgfnum="35943"/>
					</outline>
				<outline text="return ({Bucket: bucketname, Key: path});" created="Wed, 22 Jan 2014 23:03:05 GMT" pgfnum="36407"/>
				<outline text="}" created="Wed, 22 Jan 2014 23:01:40 GMT" pgfnum="36405"/>
				</outline>
			<outline text="function s3NewObject (path, data, type, acl, callback) {" created="Mon, 20 Jan 2014 00:33:52 GMT" pgfnum="35899">
				<outline text="var splitpath = s3SplitPath (path);" created="Thu, 23 Jan 2014 17:53:43 GMT" pgfnum="36441"/>
				<outline text="if (type == undefined) {" created="Mon, 20 Jan 2014 00:36:10 GMT" pgfnum="35904">
					<outline text="type = s3defaultType;" created="Mon, 20 Jan 2014 00:36:16 GMT" pgfnum="35906"/>
					<outline text="}" created="Mon, 20 Jan 2014 00:36:19 GMT" pgfnum="35907"/>
					</outline>
				<outline text="if (acl == undefined) {" created="Mon, 20 Jan 2014 00:36:10 GMT" pgfnum="35904">
					<outline text="acl = s3defaultAcl;" created="Mon, 20 Jan 2014 00:36:16 GMT" pgfnum="35906"/>
					<outline text="}" created="Mon, 20 Jan 2014 00:36:19 GMT" pgfnum="35907"/>
					</outline>
				<outline text="var params = {" created="Sun, 19 Jan 2014 02:48:19 GMT" pgfnum="35882">
					<outline text="ACL: acl," created="Sun, 19 Jan 2014 03:05:16 GMT" pgfnum="35889"/>
					<outline text="ContentType: type," created="Sun, 19 Jan 2014 03:06:24 GMT" pgfnum="35890"/>
					<outline text="Body: data," created="Sun, 19 Jan 2014 02:48:36 GMT" pgfnum="35884"/>
					<outline text="Bucket: splitpath.Bucket," created="Sun, 19 Jan 2014 02:48:54 GMT" pgfnum="35885"/>
					<outline text="Key: splitpath.Key" created="Sun, 19 Jan 2014 02:49:35 GMT" pgfnum="35886"/>
					<outline text="};" created="Sun, 19 Jan 2014 02:48:31 GMT" pgfnum="35883"/>
					</outline>
				<outline text="s3.putObject (params, function (err, data) { " created="Sun, 19 Jan 2014 02:47:00 GMT" pgfnum="35877">
					<outline text="consoleLog (&quot;s3NewObject: http://&quot; + splitpath.Bucket + &quot;/&quot; + splitpath.Key);" isComment="true" created="Mon, 20 Jan 2014 00:47:21 GMT" pgfnum="35912"/>
					<outline text="if (callback != undefined) {" created="Wed, 22 Jan 2014 23:26:51 GMT" pgfnum="36419">
						<outline text="callback (err, data);" created="Wed, 22 Jan 2014 23:26:10 GMT" pgfnum="36417"/>
						<outline text="}" created="Wed, 22 Jan 2014 23:27:05 GMT" pgfnum="36421"/>
						</outline>
					<outline text="});" created="Sun, 19 Jan 2014 02:47:49 GMT" pgfnum="35878"/>
					</outline>
				<outline text="}" created="Mon, 20 Jan 2014 00:34:31 GMT" pgfnum="35902"/>
				</outline>
			<outline text="function s3Redirect (path, url) { //1/30/14 by DW -- doesn't appear to work -- don't know why" created="Thu, 30 Jan 2014 22:41:53 GMT" pgfnum="36606">
				<outline text="var splitpath = s3SplitPath (path);" created="Thu, 23 Jan 2014 17:53:43 GMT" pgfnum="36441"/>
				<outline text="var params = {" created="Sun, 19 Jan 2014 02:48:19 GMT" pgfnum="35882">
					<outline text="WebsiteRedirectLocation: url," created="Thu, 30 Jan 2014 22:44:28 GMT" pgfnum="36611"/>
					<outline text="Bucket: splitpath.Bucket," created="Sun, 19 Jan 2014 02:48:54 GMT" pgfnum="35885"/>
					<outline text="Key: splitpath.Key," created="Sun, 19 Jan 2014 02:49:35 GMT" pgfnum="35886"/>
					<outline text="Body: &quot; &quot;" created="Thu, 30 Jan 2014 23:09:25 GMT" pgfnum="36626"/>
					<outline text="};" created="Sun, 19 Jan 2014 02:48:31 GMT" pgfnum="35883"/>
					</outline>
				<outline text="s3.putObject (params, function (err, data) { " created="Sun, 19 Jan 2014 02:47:00 GMT" pgfnum="35877">
					<outline text="if (err != null) {" created="Sat, 01 Feb 2014 01:40:30 GMT" pgfnum="36696">
						<outline text="consoleLog (&quot;s3Redirect: err.message = &quot; + err.message + &quot;.&quot;);" created="Thu, 30 Jan 2014 23:01:55 GMT" pgfnum="36623"/>
						<outline text="}" created="Sat, 01 Feb 2014 01:40:38 GMT" pgfnum="36697"/>
						</outline>
					<outline text="else {" created="Sun, 02 Feb 2014 02:51:04 GMT" pgfnum="36711">
						<outline text="consoleLog (&quot;s3Redirect: path = &quot; + path + &quot;, url = &quot; + url + &quot;, data = &quot;, JSON.stringify (data));" created="Thu, 30 Jan 2014 23:01:55 GMT" pgfnum="36623"/>
						<outline text="}" created="Sun, 02 Feb 2014 02:51:10 GMT" pgfnum="36712"/>
						</outline>
					<outline text="});" created="Thu, 30 Jan 2014 23:01:48 GMT" pgfnum="36622"/>
					</outline>
				<outline text="}" created="Thu, 30 Jan 2014 22:42:05 GMT" pgfnum="36610"/>
				</outline>
			<outline text="function s3GetObjectMetadata (path, callback) {" created="Wed, 22 Jan 2014 22:59:13 GMT" pgfnum="36400">
				<outline text="var params = s3SplitPath (path);" created="Wed, 22 Jan 2014 23:04:04 GMT" pgfnum="36408"/>
				<outline text="s3.headObject (params, function (err, data) {" created="Wed, 22 Jan 2014 23:05:46 GMT" pgfnum="36409">
					<outline text="callback (data);" created="Wed, 22 Jan 2014 23:06:23 GMT" pgfnum="36411"/>
					<outline text="});" created="Wed, 22 Jan 2014 23:06:17 GMT" pgfnum="36410"/>
					</outline>
				<outline text="}" created="Wed, 22 Jan 2014 22:59:26 GMT" pgfnum="36401"/>
				</outline>
			<outline text="function s3GetObject (path, callback) {" created="Wed, 22 Jan 2014 22:59:13 GMT" pgfnum="36400">
				<outline text="var params = s3SplitPath (path);" created="Wed, 22 Jan 2014 23:04:04 GMT" pgfnum="36408"/>
				<outline text="s3.getObject (params, function (err, data) {" created="Wed, 22 Jan 2014 23:05:46 GMT" pgfnum="36409">
					<outline text="callback (data);" created="Wed, 22 Jan 2014 23:06:23 GMT" pgfnum="36411"/>
					<outline text="});" created="Wed, 22 Jan 2014 23:06:17 GMT" pgfnum="36410"/>
					</outline>
				<outline text="}" created="Wed, 22 Jan 2014 22:59:26 GMT" pgfnum="36401"/>
				</outline>
			<outline text="" created="Wed, 22 Jan 2014 15:48:33 GMT" pgfnum="36305"/>
			<outline text="function updateNameRecord (name, obj, callback) { " created="Wed, 22 Jan 2014 15:48:33 GMT" pgfnum="36307">
				<outline text="s3NewObject (s3NamesPath + &quot;/&quot; + name + &quot;.json&quot;, JSON.stringify (obj, undefined, 3), &quot;text/plain&quot;, &quot;public-read&quot;, function (err, data) {" created="Wed, 22 Jan 2014 22:41:22 GMT" pgfnum="36396">
					<outline text="if (callback != undefined) {" created="Fri, 24 Jan 2014 22:31:50 GMT" pgfnum="36543">
						<outline text="callback (err, data);" created="Wed, 22 Jan 2014 23:26:59 GMT" pgfnum="36420"/>
						<outline text="}" created="Fri, 24 Jan 2014 22:32:01 GMT" pgfnum="36544"/>
						</outline>
					<outline text="});" created="Wed, 22 Jan 2014 23:26:37 GMT" pgfnum="36418"/>
					</outline>
				<outline text="}" created="Wed, 22 Jan 2014 15:48:48 GMT" pgfnum="36313"/>
				</outline>
			<outline text="function addNameRecord (name, opmlUrl, callback) { " created="Wed, 22 Jan 2014 15:48:33 GMT" pgfnum="36307">
				<outline text="var data = {" created="Wed, 22 Jan 2014 22:39:50 GMT" pgfnum="36388">
					<outline text="&quot;name&quot;: name," created="Wed, 22 Jan 2014 23:44:41 GMT" pgfnum="36422"/>
					<outline text="&quot;opmlUrl&quot;: opmlUrl," created="Wed, 22 Jan 2014 22:40:29 GMT" pgfnum="36393"/>
					<outline text="&quot;whenCreated&quot;: new Date ().toString ()" created="Wed, 22 Jan 2014 22:40:49 GMT" pgfnum="36394"/>
					<outline text="};" created="Wed, 22 Jan 2014 22:41:05 GMT" pgfnum="36395"/>
					</outline>
				<outline text="s3NewObject (s3NamesPath + &quot;/&quot; + name + &quot;.json&quot;, JSON.stringify (data, undefined, 3), &quot;text/plain&quot;, &quot;public-read&quot;, function (err, data) {" isComment="true" created="Wed, 22 Jan 2014 22:41:22 GMT" pgfnum="36396">
					<outline text="callback (err, data);" created="Wed, 22 Jan 2014 23:26:59 GMT" pgfnum="36420"/>
					<outline text="});" created="Wed, 22 Jan 2014 23:26:37 GMT" pgfnum="36418"/>
					</outline>
				<outline text="updateNameRecord (name, data, callback);" created="Fri, 24 Jan 2014 22:44:07 GMT" pgfnum="36522"/>
				<outline text="}" created="Wed, 22 Jan 2014 15:48:48 GMT" pgfnum="36313"/>
				</outline>
			<outline text="function isNameDefined (name, callback) {" created="Wed, 22 Jan 2014 22:55:27 GMT" pgfnum="36398">
				<outline text="s3GetObjectMetadata (s3NamesPath + &quot;/&quot; + name + &quot;.json&quot;, function (metadata) {" created="Wed, 22 Jan 2014 23:07:46 GMT" pgfnum="36412">
					<outline text="consoleLog (&quot;isNameDefined: &quot; + JSON.stringify (metadata));" isComment="true" created="Wed, 22 Jan 2014 23:11:04 GMT" pgfnum="36414"/>
					<outline text="callback (metadata != null);" created="Wed, 22 Jan 2014 03:45:13 GMT" pgfnum="36264"/>
					<outline text="});" created="Wed, 22 Jan 2014 23:07:55 GMT" pgfnum="36413"/>
					</outline>
				<outline text="}" created="Wed, 22 Jan 2014 22:55:40 GMT" pgfnum="36399"/>
				</outline>
			<outline text="function getNameRecord (name, callback) {" created="Wed, 22 Jan 2014 23:17:09 GMT" pgfnum="36415">
				<outline text="s3GetObject (s3NamesPath + &quot;/&quot; + name + &quot;.json&quot;, function (data) {" created="Wed, 22 Jan 2014 23:07:46 GMT" pgfnum="36412">
					<outline text="if (data == null) {" created="Thu, 23 Jan 2014 18:37:27 GMT" pgfnum="36463">
						<outline text="callback (null);" created="Wed, 22 Jan 2014 03:45:13 GMT" pgfnum="36264"/>
						<outline text="}" created="Thu, 23 Jan 2014 18:37:33 GMT" pgfnum="36464"/>
						</outline>
					<outline text="else {" created="Thu, 23 Jan 2014 18:37:35 GMT" pgfnum="36465">
						<outline text="callback (data.Body);" created="Wed, 22 Jan 2014 03:45:13 GMT" pgfnum="36264"/>
						<outline text="}" created="Thu, 23 Jan 2014 18:37:39 GMT" pgfnum="36466"/>
						</outline>
					<outline text="});" created="Wed, 22 Jan 2014 23:07:55 GMT" pgfnum="36413"/>
					</outline>
				<outline text="}" created="Wed, 22 Jan 2014 23:17:21 GMT" pgfnum="36416"/>
				</outline>
			<outline text="" created="Wed, 29 Jan 2014 22:02:31 GMT" pgfnum="36560"/>
			<outline text="function statsAddToChanges (url) { //add an item to changes.json -- 1/29/14 by DW" created="Wed, 29 Jan 2014 22:02:31 GMT" pgfnum="36561">
				<outline text="var path = s3StatsPath + &quot;/&quot; + nameChangesFile;" created="Wed, 29 Jan 2014 22:13:11 GMT" pgfnum="36578"/>
				<outline text="s3GetObject (path, function (data) {" created="Wed, 22 Jan 2014 23:07:46 GMT" pgfnum="36412">
					<outline text="var changes, obj = new Object (), ctupdates = 0;" created="Wed, 29 Jan 2014 22:03:55 GMT" pgfnum="36565"/>
					<outline text="" created="Wed, 29 Jan 2014 22:43:22 GMT" pgfnum="36594"/>
					<outline text="if (data == null) {" created="Thu, 23 Jan 2014 18:37:27 GMT" pgfnum="36463">
						<outline text="changes = new Array ();" created="Wed, 29 Jan 2014 22:03:23 GMT" pgfnum="36564"/>
						<outline text="}" created="Thu, 23 Jan 2014 18:37:33 GMT" pgfnum="36464"/>
						</outline>
					<outline text="else {" created="Thu, 23 Jan 2014 18:37:35 GMT" pgfnum="36465">
						<outline text="console.log (&quot;Parsing jsontext.. &quot; + JSON.stringify (jsontext));" isComment="true" created="Wed, 29 Jan 2014 22:31:57 GMT" pgfnum="36581"/>
						<outline text="changes = JSON.parse (data.Body);" created="Wed, 22 Jan 2014 03:45:13 GMT" pgfnum="36264"/>
						<outline text="}" created="Thu, 23 Jan 2014 18:37:39 GMT" pgfnum="36466"/>
						</outline>
					<outline text="" created="Wed, 29 Jan 2014 22:39:22 GMT" pgfnum="36583"/>
					<outline text="for (var i = changes.length - 1; i &gt;= 0; i--) { //delete all other instances of the url in the array" created="Wed, 29 Jan 2014 22:39:24 GMT" pgfnum="36584">
						<outline text="if (changes [i].url == url) {" created="Wed, 29 Jan 2014 22:40:15 GMT" pgfnum="36589">
							<outline text="if (changes [i].ct != undefined) {" created="Thu, 30 Jan 2014 16:34:11 GMT" pgfnum="36588">
								<outline text="ctupdates = changes [i].ct;" created="Thu, 30 Jan 2014 16:34:44 GMT" pgfnum="36590"/>
								<outline text="}" created="Thu, 30 Jan 2014 16:34:36 GMT" pgfnum="36589"/>
								</outline>
							<outline text="changes.splice (i, 1);" created="Wed, 29 Jan 2014 22:41:27 GMT" pgfnum="36591"/>
							<outline text="}" created="Wed, 29 Jan 2014 22:40:25 GMT" pgfnum="36590"/>
							</outline>
						<outline text="}" created="Wed, 29 Jan 2014 22:40:01 GMT" pgfnum="36588"/>
						</outline>
					<outline text="" created="Wed, 29 Jan 2014 22:39:24 GMT" pgfnum="36587"/>
					<outline text="obj.url = url;  //add at beginning of array" created="Wed, 29 Jan 2014 22:09:30 GMT" pgfnum="36566"/>
					<outline text="obj.when = new Date ().toString ();" created="Wed, 29 Jan 2014 22:09:41 GMT" pgfnum="36567"/>
					<outline text="obj.ct = ++ctupdates;" created="Thu, 30 Jan 2014 16:35:12 GMT" pgfnum="36591"/>
					<outline text="" created="Thu, 30 Jan 2014 16:32:49 GMT" pgfnum="36583"/>
					<outline text="changes.unshift (obj);" created="Wed, 29 Jan 2014 22:10:31 GMT" pgfnum="36568"/>
					<outline text="" created="Wed, 29 Jan 2014 22:42:50 GMT" pgfnum="36592"/>
					<outline text="while (changes.length &gt; maxChanges) { //keep array within max size" created="Wed, 29 Jan 2014 22:12:30 GMT" pgfnum="36574">
						<outline text="changes.pop ();" created="Wed, 29 Jan 2014 22:12:43 GMT" pgfnum="36576"/>
						<outline text="}" created="Wed, 29 Jan 2014 22:12:46 GMT" pgfnum="36577"/>
						</outline>
					<outline text="" created="Wed, 29 Jan 2014 22:43:13 GMT" pgfnum="36593"/>
					<outline text="s3NewObject (path, JSON.stringify (changes, undefined, 3));" created="Wed, 29 Jan 2014 22:14:03 GMT" pgfnum="36579"/>
					<outline text="});" created="Wed, 22 Jan 2014 23:07:55 GMT" pgfnum="36413"/>
					</outline>
				<outline text="}" created="Wed, 29 Jan 2014 22:02:43 GMT" pgfnum="36562"/>
				</outline>
			<outline text="" created="Wed, 22 Jan 2014 15:48:34 GMT" pgfnum="36311"/>
			<outline text="function parsePackages (name, s) { //name is something like &quot;dave&quot;" created="Fri, 17 Jan 2014 22:22:26 GMT" pgfnum="35805">
				<outline text="var magicpattern = &quot;&lt;[{~#--- &quot;, ix, path, htmltext, ctfiles = 0, ctchars = 0;" created="Fri, 17 Jan 2014 22:22:38 GMT" pgfnum="35808"/>
				<outline text="while (s.length &gt; 0) {" created="Fri, 17 Jan 2014 22:23:22 GMT" pgfnum="35809">
					<outline text="ix = s.indexOf (magicpattern);"/>
					<outline text="if (ix &lt; 0) {">
						<outline text="break;"/>
						<outline text="}" created="Fri, 17 Jan 2014 22:28:25 GMT" pgfnum="35818"/>
						</outline>
					<outline text="s = s.substr (ix + magicpattern.length);" created="Fri, 17 Jan 2014 22:29:06 GMT" pgfnum="35819"/>
					<outline text="ix = s.indexOf (&quot;\n&quot;);"/>
					<outline text="path = s.substr (0, ix);" created="Fri, 17 Jan 2014 22:31:22 GMT" pgfnum="35820"/>
					<outline text="s = s.substr (ix + 1);" created="Fri, 17 Jan 2014 22:31:36 GMT" pgfnum="35821"/>
					<outline text="ix = s.indexOf (magicpattern);"/>
					<outline text="if (ix &lt; 0) {" created="Fri, 17 Jan 2014 22:42:44 GMT" pgfnum="35822">
						<outline text="htmltext = s;" created="Fri, 17 Jan 2014 22:43:02 GMT" pgfnum="35826"/>
						<outline text="}" created="Fri, 17 Jan 2014 22:42:48 GMT" pgfnum="35823"/>
						</outline>
					<outline text="else {" created="Fri, 17 Jan 2014 22:42:49 GMT" pgfnum="35824">
						<outline text="htmltext = s.substr (0, ix);" created="Fri, 17 Jan 2014 22:43:14 GMT" pgfnum="35827"/>
						<outline text="s = s.substr (ix);" created="Fri, 17 Jan 2014 22:43:32 GMT" pgfnum="35828"/>
						<outline text="}" created="Fri, 17 Jan 2014 22:42:51 GMT" pgfnum="35825"/>
						</outline>
					<outline text="consoleLog (&quot;\&quot;&quot; + path + &quot;\&quot; == &quot; + htmltext.length + &quot; characters.&quot;);" isComment="true" created="Fri, 17 Jan 2014 22:55:09 GMT" pgfnum="35829"/>
					<outline text="" created="Thu, 23 Jan 2014 16:47:35 GMT" pgfnum="36422"/>
					<outline text="if (path.length &gt; 0) {" created="Thu, 23 Jan 2014 16:47:36 GMT" pgfnum="36423">
						<outline text="if (path [0] == &quot;/&quot;) { //delete leading slash, if present" created="Thu, 23 Jan 2014 16:47:52 GMT" pgfnum="36426">
							<outline text="path = path.substr (1);" created="Thu, 23 Jan 2014 16:48:07 GMT" pgfnum="36428"/>
							<outline text="}" created="Thu, 23 Jan 2014 16:48:00 GMT" pgfnum="36427"/>
							</outline>
						<outline text="s3NewObject (s3HostingPath + name + &quot;/&quot; + path, htmltext, &quot;text/html&quot;);" created="Tue, 21 Jan 2014 22:01:05 GMT" pgfnum="36143"/>
						<outline text="ctfiles++;" created="Wed, 29 Jan 2014 02:38:53 GMT" pgfnum="36553"/>
						<outline text="ctchars += htmltext.length;" created="Wed, 29 Jan 2014 02:38:58 GMT" pgfnum="36554"/>
						<outline text="}" created="Thu, 23 Jan 2014 16:47:48 GMT" pgfnum="36425"/>
						</outline>
					<outline text="}" created="Fri, 17 Jan 2014 22:23:27 GMT" pgfnum="35811"/>
					</outline>
				<outline text="consoleLog (ctfiles + &quot; files written, &quot; + ctchars + &quot; chars.&quot;);" created="Wed, 29 Jan 2014 02:39:30 GMT" pgfnum="36555"/>
				<outline text="}" created="Fri, 17 Jan 2014 22:22:35 GMT" pgfnum="35807"/>
				</outline>
			<outline text="function handlePackagePing (subdomain) { //something like http://dave.smallpict.com/" created="Sat, 18 Jan 2014 17:17:47 GMT" pgfnum="35830">
				<outline text="var parsedUrl = urlpack.parse (subdomain, true);" created="Tue, 21 Jan 2014 00:21:43 GMT" pgfnum="36078"/>
				<outline text="var host = parsedUrl.host;" created="Thu, 30 Jan 2014 02:40:20 GMT" pgfnum="36561"/>
				<outline text="" created="Thu, 30 Jan 2014 02:40:46 GMT" pgfnum="36564"/>
				<outline text="if (host == undefined) { //1/31/14 by DW" created="Sat, 01 Feb 2014 00:51:49 GMT" pgfnum="36679">
					<outline text="return;" created="Sat, 01 Feb 2014 00:51:54 GMT" pgfnum="36680"/>
					<outline text="}" created="Sat, 01 Feb 2014 00:51:56 GMT" pgfnum="36681"/>
					</outline>
				<outline text="if (!endsWith (host, myDomain)) { //1/29/14 by DW -- not one of our domains" created="Thu, 30 Jan 2014 02:40:47 GMT" pgfnum="36565">
					<outline text="return;" created="Thu, 30 Jan 2014 02:40:57 GMT" pgfnum="36566"/>
					<outline text="}" created="Thu, 30 Jan 2014 02:40:59 GMT" pgfnum="36567"/>
					</outline>
				<outline text="" created="Thu, 30 Jan 2014 02:40:20 GMT" pgfnum="36563"/>
				<outline text="var sections = host.split (&quot;.&quot;);" created="Wed, 22 Jan 2014 20:13:15 GMT" pgfnum="36365"/>
				<outline text="var name = sections [0];" created="Thu, 23 Jan 2014 16:56:22 GMT" pgfnum="36430"/>
				<outline text="" created="Fri, 24 Jan 2014 22:29:22 GMT" pgfnum="36538"/>
				<outline text="consoleLog (&quot;Ping received: &quot; + host);" created="Mon, 20 Jan 2014 19:44:22 GMT" pgfnum="36069"/>
				<outline text="" created="Fri, 24 Jan 2014 22:29:23 GMT" pgfnum="36542"/>
				<outline text="getNameRecord (name, function (jsontext) {" created="Thu, 23 Jan 2014 16:57:51 GMT" pgfnum="36436">
					<outline text="if (jsontext == null) {" created="Tue, 28 Jan 2014 19:26:14 GMT" pgfnum="36557">
						<outline text="consoleLog (&quot;Can't handle the package ping for the outline named \&quot;&quot; + name + &quot;\&quot; because there is no outline with that name.&quot;);" created="Tue, 28 Jan 2014 19:26:47 GMT" pgfnum="36563"/>
						<outline text="}" created="Tue, 28 Jan 2014 19:26:24 GMT" pgfnum="36561"/>
						</outline>
					<outline text="else {" created="Tue, 28 Jan 2014 19:26:45 GMT" pgfnum="36562">
						<outline text="var obj = JSON.parse (jsontext);" created="Thu, 23 Jan 2014 16:59:39 GMT" pgfnum="36438"/>
						<outline text="consoleLog (&quot;handlePackagePing: jsontext == &quot; + jsontext);" isComment="true" created="Thu, 23 Jan 2014 17:00:33 GMT" pgfnum="36440"/>
						<outline text="httpReadUrl (obj.opmlUrl, function (httptext) {" created="Tue, 21 Jan 2014 18:30:26 GMT" pgfnum="36096">
							<outline text="var urlpackage = scrapeTagValue (httptext, &quot;linkHosting&quot;);" created="Tue, 21 Jan 2014 21:28:37 GMT" pgfnum="36133"/>
							<outline text="consoleLog (&quot;handlePackagePing: package url == &quot; + urlpackage);" isComment="true" created="Tue, 21 Jan 2014 21:08:46 GMT" pgfnum="36119"/>
							<outline text="httpReadUrl (urlpackage, function (packagetext) {">
								<outline text="consoleLog (&quot;package text: &quot; + packagetext.length + &quot; chars.&quot;);" isComment="true" created="Tue, 21 Jan 2014 21:08:46 GMT" pgfnum="36119"/>
								<outline text="parsePackages (name, packagetext);" created="Tue, 21 Jan 2014 21:31:40 GMT" pgfnum="36142"/>
								<outline text="" created="Fri, 24 Jan 2014 22:17:15 GMT" pgfnum="36530"/>
								<outline text="obj.whenLastUpdate = new Date ().toString ();" created="Fri, 24 Jan 2014 22:17:15 GMT" pgfnum="36531"/>
								<outline text="obj.urlRedirect = &quot;http:/&quot; + s3HostingPath + name + &quot;/&quot;; " created="Fri, 24 Jan 2014 22:17:30 GMT" pgfnum="36534"/>
								<outline text="" created="Fri, 31 Jan 2014 14:28:24 GMT" pgfnum="36640"/>
								<outline text="if (obj.ctUpdates == undefined) { //1/31/14 by DW" created="Fri, 31 Jan 2014 14:28:24 GMT" pgfnum="36641">
									<outline text="obj.ctUpdates = 0;" created="Fri, 31 Jan 2014 14:28:33 GMT" pgfnum="36642"/>
									<outline text="}" created="Fri, 31 Jan 2014 14:28:35 GMT" pgfnum="36643"/>
									</outline>
								<outline text="obj.ctUpdates++;"/>
								<outline text="" created="Fri, 31 Jan 2014 14:26:50 GMT" pgfnum="36639"/>
								<outline text="updateNameRecord (name, obj);" created="Fri, 24 Jan 2014 22:19:01 GMT" pgfnum="36535"/>
								<outline text="" created="Fri, 31 Jan 2014 14:18:09 GMT" pgfnum="36627"/>
								<outline text="statsAddToChanges (subdomain); //add it to changes.json -- 1/29/14 by DW" created="Wed, 29 Jan 2014 22:18:25 GMT" pgfnum="36580"/>
								<outline text="});" created="Tue, 21 Jan 2014 21:29:40 GMT" pgfnum="36141"/>
								</outline>
							<outline text="});" created="Tue, 21 Jan 2014 21:29:40 GMT" pgfnum="36141"/>
							</outline>
						<outline text="}" created="Tue, 28 Jan 2014 19:27:44 GMT" pgfnum="36564"/>
						</outline>
					<outline text="});" created="Thu, 23 Jan 2014 16:58:16 GMT" pgfnum="36437"/>
					</outline>
				<outline text="}" created="Sat, 18 Jan 2014 17:17:55 GMT" pgfnum="35831"/>
				</outline>
			<outline text="" created="Mon, 20 Jan 2014 00:33:52 GMT" pgfnum="35900"/>
			<outline text="var server = http.createServer (function (httpRequest, httpResponse) {">
				<outline text="if (httpRequest.method == &quot;HEAD&quot;) {" created="Fri, 24 Jan 2014 17:22:02 GMT" pgfnum="36505">
					<outline text="httpRequest.end (null);" created="Fri, 24 Jan 2014 17:22:25 GMT" pgfnum="36509"/>
					<outline text="}" created="Fri, 24 Jan 2014 17:22:36 GMT" pgfnum="36510"/>
					</outline>
				<outline text="else {" created="Fri, 24 Jan 2014 17:22:52 GMT" pgfnum="36511">
					<outline text="var parsedUrl = urlpack.parse (httpRequest.url, true);" created="Tue, 21 Jan 2014 00:21:43 GMT" pgfnum="36078"/>
					<outline text="" created="Tue, 21 Jan 2014 00:22:11 GMT" pgfnum="36079"/>
					<outline text="consoleLog (parsedUrl.pathname);" isComment="true" created="Mon, 20 Jan 2014 19:44:22 GMT" pgfnum="36069"/>
					<outline text="" created="Tue, 21 Jan 2014 00:20:39 GMT" pgfnum="36077"/>
					<outline text="switch (parsedUrl.pathname.toLowerCase ()) {" created="Tue, 21 Jan 2014 00:22:12 GMT" pgfnum="36080">
						<outline text="case &quot;/pingpackage&quot;:" created="Tue, 21 Jan 2014 00:23:18 GMT" pgfnum="36082">
							<outline text="httpResponse.writeHead (200, {&quot;Content-Type&quot;: &quot;application/json&quot;, &quot;Access-Control-Allow-Origin&quot;: &quot;fargo.io&quot;});"/>
							<outline text="" created="Tue, 21 Jan 2014 17:35:51 GMT" pgfnum="36095"/>
							<outline text="handlePackagePing (parsedUrl.query.link);" created="Tue, 21 Jan 2014 04:52:19 GMT" pgfnum="36088"/>
							<outline text="" created="Tue, 21 Jan 2014 14:39:19 GMT" pgfnum="36089"/>
							<outline text="var x = {&quot;url&quot;: parsedUrl.query.link};" created="Tue, 21 Jan 2014 14:40:41 GMT" pgfnum="36093"/>
							<outline text="var s = &quot;getData (&quot; + JSON.stringify (x) + &quot;)&quot;;" created="Tue, 21 Jan 2014 14:39:20 GMT" pgfnum="36090"/>
							<outline text="httpResponse.end (s);    "/>
							<outline text="" created="Tue, 21 Jan 2014 14:39:20 GMT" pgfnum="36092"/>
							<outline text="break;" created="Tue, 21 Jan 2014 00:23:24 GMT" pgfnum="36083"/>
							</outline>
						<outline text="case &quot;/isnameavailable&quot;:" created="Wed, 22 Jan 2014 03:19:48 GMT" pgfnum="36229">
							<outline text="function sendStringBack (s) {" created="Thu, 23 Jan 2014 21:18:25 GMT" pgfnum="36474">
								<outline text="var x = {&quot;message&quot;: s};" created="Tue, 21 Jan 2014 14:40:41 GMT" pgfnum="36093"/>
								<outline text="httpResponse.end (&quot;getData (&quot; + JSON.stringify (x) + &quot;)&quot;);    "/>
								<outline text="}" created="Thu, 23 Jan 2014 21:18:45 GMT" pgfnum="36475"/>
								</outline>
							<outline text="httpResponse.writeHead (200, {&quot;Content-Type&quot;: &quot;application/json&quot;, &quot;Access-Control-Allow-Origin&quot;: &quot;fargo.io&quot;});"/>
							<outline text="" created="Thu, 23 Jan 2014 21:14:43 GMT" pgfnum="36473"/>
							<outline text="var name = cleanName (parsedUrl.query.name);" created="Wed, 22 Jan 2014 03:22:42 GMT" pgfnum="36234"/>
							<outline text="" created="Tue, 28 Jan 2014 15:36:22 GMT" pgfnum="36545"/>
							<outline text="consoleLog (&quot;Is name available? name == &quot; + name);" created="Mon, 20 Jan 2014 19:44:22 GMT" pgfnum="36069"/>
							<outline text="" created="Wed, 22 Jan 2014 03:23:26 GMT" pgfnum="36237"/>
							<outline text="if (name.length == 0) {" created="Wed, 22 Jan 2014 03:23:26 GMT" pgfnum="36238">
								<outline text="sendStringBack (&quot;&quot;);    "/>
								<outline text="}" created="Wed, 22 Jan 2014 03:23:31 GMT" pgfnum="36239"/>
								</outline>
							<outline text="else {" created="Wed, 22 Jan 2014 03:24:27 GMT" pgfnum="36242">
								<outline text="if (name.length &lt; 4) {">
									<outline text="sendStringBack (&quot;Name must be 4 or more characters.&quot;);"/>
									<outline text="}" created="Wed, 22 Jan 2014 03:24:22 GMT" pgfnum="36241"/>
									</outline>
								<outline text="else {" created="Wed, 22 Jan 2014 03:24:49 GMT" pgfnum="36244">
									<outline text="isNameDefined (name, function (fldefined) {" created="Wed, 22 Jan 2014 03:21:13 GMT" pgfnum="36231">
										<outline text="var color, answer;" created="Wed, 22 Jan 2014 03:27:42 GMT" pgfnum="36249"/>
										<outline text="if (fldefined) {" created="Wed, 22 Jan 2014 03:22:09 GMT" pgfnum="36233">
											<outline text="color = &quot;red&quot;;" created="Wed, 22 Jan 2014 03:28:18 GMT" pgfnum="36250"/>
											<outline text="answer = &quot;is not&quot;;" created="Wed, 22 Jan 2014 03:28:22 GMT" pgfnum="36251"/>
											<outline text="}" created="Wed, 22 Jan 2014 03:27:13 GMT" pgfnum="36246"/>
											</outline>
										<outline text="else {" created="Wed, 22 Jan 2014 03:27:17 GMT" pgfnum="36247">
											<outline text="color = &quot;green&quot;;" created="Wed, 22 Jan 2014 03:28:18 GMT" pgfnum="36250"/>
											<outline text="answer = &quot;is&quot;;" created="Wed, 22 Jan 2014 03:28:22 GMT" pgfnum="36251"/>
											<outline text="}" created="Wed, 22 Jan 2014 03:27:19 GMT" pgfnum="36248"/>
											</outline>
										<outline text="sendStringBack (&quot;&lt;span style=\&quot;color: &quot; + color + &quot;;\&quot;&gt;&quot; + name + &quot;.&quot; + myDomain + &quot; &quot; + answer + &quot; available.&lt;/span&gt;&quot;)"/>
										<outline text="});" created="Wed, 22 Jan 2014 03:21:49 GMT" pgfnum="36232"/>
										</outline>
									<outline text="}" created="Wed, 22 Jan 2014 03:24:51 GMT" pgfnum="36245"/>
									</outline>
								<outline text="}" created="Wed, 22 Jan 2014 03:24:33 GMT" pgfnum="36243"/>
								</outline>
							<outline text="" created="Wed, 22 Jan 2014 03:22:51 GMT" pgfnum="36236"/>
							<outline text="break;" created="Wed, 22 Jan 2014 03:19:54 GMT" pgfnum="36230"/>
							</outline>
						<outline text="case &quot;/newoutlinename&quot;:" created="Wed, 22 Jan 2014 15:18:23 GMT" pgfnum="36265">
							<outline text="var recordkey = cleanName (parsedUrl.query.name), url = parsedUrl.query.url;" created="Wed, 22 Jan 2014 03:22:42 GMT" pgfnum="36234"/>
							<outline text="" created="Wed, 22 Jan 2014 16:23:11 GMT" pgfnum="36333"/>
							<outline text="consoleLog (&quot;Create new outline name: &quot; + recordkey + &quot;, url=&quot; + url);" created="Wed, 22 Jan 2014 16:23:11 GMT" pgfnum="36334"/>
							<outline text="" created="Wed, 22 Jan 2014 15:33:52 GMT" pgfnum="36294"/>
							<outline text="httpResponse.writeHead (200, {&quot;Content-Type&quot;: &quot;application/json&quot;, &quot;Access-Control-Allow-Origin&quot;: &quot;fargo.io&quot;});"/>
							<outline text="" created="Wed, 22 Jan 2014 15:34:05 GMT" pgfnum="36297"/>
							<outline text="if (url == undefined) {" created="Wed, 22 Jan 2014 15:33:52 GMT" pgfnum="36295">
								<outline text="var x = {flError: true, errorString: &quot;Can't assign the name because there is no &lt;i&gt;url&lt;/i&gt; parameter provided.&quot;};" created="Wed, 22 Jan 2014 15:34:39 GMT" pgfnum="36298"/>
								<outline text="consoleLog (&quot;No url parameter.&quot;);" isComment="true" created="Wed, 22 Jan 2014 16:24:25 GMT" pgfnum="36335"/>
								<outline text="httpResponse.end (&quot;getData (&quot; + JSON.stringify (x) + &quot;)&quot;);    "/>
								<outline text="}" created="Wed, 22 Jan 2014 15:33:58 GMT" pgfnum="36296"/>
								</outline>
							<outline text="else {" created="Wed, 22 Jan 2014 15:35:58 GMT" pgfnum="36299">
								<outline text="isNameDefined (recordkey, function (fldefined) {" created="Wed, 22 Jan 2014 03:21:13 GMT" pgfnum="36231">
									<outline text="if (fldefined) {" created="Wed, 22 Jan 2014 03:22:09 GMT" pgfnum="36233">
										<outline text="var x = {flError: true, errorString: &quot;Can't assign the name '&quot; + recordkey + &quot;' to the outline because there already is an outline with that name.&quot;};" created="Wed, 22 Jan 2014 15:34:39 GMT" pgfnum="36298"/>
										<outline text="consoleLog (&quot;Name is defined.&quot;);" isComment="true" created="Wed, 22 Jan 2014 16:24:25 GMT" pgfnum="36335"/>
										<outline text="httpResponse.end (&quot;getData (&quot; + JSON.stringify (x) + &quot;)&quot;);    "/>
										<outline text="}" created="Wed, 22 Jan 2014 03:27:13 GMT" pgfnum="36246"/>
										</outline>
									<outline text="else {" created="Wed, 22 Jan 2014 03:27:17 GMT" pgfnum="36247">
										<outline text="addNameRecord (recordkey, url, function (err, data) {" created="Wed, 22 Jan 2014 15:38:21 GMT" pgfnum="36302">
											<outline text="if (err) {">
												<outline text="consoleLog (&quot;There was an error: &quot; + JSON.stringify (err));" isComment="true" created="Wed, 22 Jan 2014 16:24:25 GMT" pgfnum="36335"/>
												<outline text="httpResponse.end (&quot;getData (&quot; + JSON.stringify (err) + &quot;)&quot;);    "/>
												<outline text="}"/>
												</outline>
											<outline text="else {" created="Wed, 22 Jan 2014 16:10:13 GMT" pgfnum="36330">
												<outline text="var x = {flError: false, name: recordkey + &quot;.&quot; + myDomain};" created="Wed, 22 Jan 2014 16:11:12 GMT" pgfnum="36332"/>
												<outline text="consoleLog (&quot;No error: &quot; + recordkey + &quot;.&quot; + myDomain);" isComment="true" created="Wed, 22 Jan 2014 16:25:26 GMT" pgfnum="36336"/>
												<outline text="httpResponse.end (&quot;getData (&quot; + JSON.stringify (x) + &quot;)&quot;);    "/>
												<outline text="}" created="Wed, 22 Jan 2014 16:10:15 GMT" pgfnum="36331"/>
												</outline>
											<outline text="});" created="Wed, 22 Jan 2014 15:57:37 GMT" pgfnum="36324"/>
											</outline>
										<outline text="}" created="Wed, 22 Jan 2014 03:27:19 GMT" pgfnum="36248"/>
										</outline>
									<outline text="});" created="Wed, 22 Jan 2014 03:21:49 GMT" pgfnum="36232"/>
									</outline>
								<outline text="}" created="Wed, 22 Jan 2014 15:36:00 GMT" pgfnum="36300"/>
								</outline>
							<outline text="break;" created="Wed, 22 Jan 2014 15:18:30 GMT" pgfnum="36266"/>
							</outline>
						<outline text="case &quot;/geturlfromname&quot;:" created="Thu, 23 Jan 2014 18:28:17 GMT" pgfnum="36453">
							<outline text="var name = cleanName (parsedUrl.query.name);" created="Wed, 22 Jan 2014 03:22:42 GMT" pgfnum="36234"/>
							<outline text="httpResponse.writeHead (200, {&quot;Content-Type&quot;: &quot;application/json&quot;, &quot;Access-Control-Allow-Origin&quot;: &quot;fargo.io&quot;});"/>
							<outline text="getNameRecord (name, function (jsontext) {" created="Thu, 23 Jan 2014 16:57:51 GMT" pgfnum="36436">
								<outline text="if (jsontext == null) {" created="Thu, 23 Jan 2014 18:33:13 GMT" pgfnum="36459">
									<outline text="var x = {flError: true, errorString: &quot;Can't open the outline named '&quot; + name + &quot;' because there is no outline with that name.&quot;};" created="Wed, 22 Jan 2014 15:34:39 GMT" pgfnum="36298"/>
									<outline text="httpResponse.end (&quot;getData (&quot; + JSON.stringify (x) + &quot;)&quot;);    "/>
									<outline text="}" created="Thu, 23 Jan 2014 18:33:18 GMT" pgfnum="36460"/>
									</outline>
								<outline text="else {" created="Thu, 23 Jan 2014 18:33:19 GMT" pgfnum="36461">
									<outline text="var obj = JSON.parse (jsontext);" created="Thu, 23 Jan 2014 16:59:39 GMT" pgfnum="36438"/>
									<outline text="var x = {flError: false, url: obj.opmlUrl};" created="Wed, 22 Jan 2014 15:34:39 GMT" pgfnum="36298"/>
									<outline text="httpResponse.end (&quot;getData (&quot; + JSON.stringify (x) + &quot;)&quot;);    "/>
									<outline text="}" created="Thu, 23 Jan 2014 18:33:25 GMT" pgfnum="36462"/>
									</outline>
								<outline text="});" created="Thu, 23 Jan 2014 16:58:16 GMT" pgfnum="36437"/>
								</outline>
							<outline text="break;" created="Thu, 23 Jan 2014 18:28:23 GMT" pgfnum="36454"/>
							</outline>
						<outline text="case &quot;/version&quot;:" created="Wed, 22 Jan 2014 15:18:23 GMT" pgfnum="36265">
							<outline text="httpResponse.writeHead (200, {&quot;Content-Type&quot;: &quot;text/plain&quot;, &quot;Access-Control-Allow-Origin&quot;: &quot;fargo.io&quot;});"/>
							<outline text="consoleLog (&quot;Version: &quot; + myVersion);" isComment="true" created="Mon, 20 Jan 2014 19:44:22 GMT" pgfnum="36069"/>
							<outline text="httpResponse.end (myVersion);    "/>
							<outline text="break;" created="Wed, 22 Jan 2014 15:18:30 GMT" pgfnum="36266"/>
							</outline>
						<outline text="default:" created="Tue, 21 Jan 2014 00:38:22 GMT" pgfnum="36084">
							<outline text="httpResponse.writeHead (404, {&quot;Content-Type&quot;: &quot;text/plain&quot;, &quot;Access-Control-Allow-Origin&quot;: &quot;fargo.io&quot;});"/>
							<outline text="httpResponse.end (&quot;404 Not Found&quot;);"/>
							<outline text="break;" created="Tue, 21 Jan 2014 00:39:13 GMT" pgfnum="36086"/>
							</outline>
						<outline text="}" created="Tue, 21 Jan 2014 00:22:49 GMT" pgfnum="36081"/>
						</outline>
					<outline text="}" created="Fri, 24 Jan 2014 17:23:03 GMT" pgfnum="36512"/>
					</outline>
				<outline text="});"/>
				</outline>
			<outline text="" created="Fri, 24 Jan 2014 15:16:38 GMT" pgfnum="36485"/>
			<outline text="if (myPort == undefined) {" created="Fri, 24 Jan 2014 15:16:40 GMT" pgfnum="36489">
				<outline text="myPort = 80;" created="Fri, 24 Jan 2014 15:16:52 GMT" pgfnum="36494"/>
				<outline text="}" created="Fri, 24 Jan 2014 15:16:59 GMT" pgfnum="36495"/>
				</outline>
			<outline text="" created="Tue, 28 Jan 2014 00:11:41 GMT" pgfnum="36524"/>
			<outline text="server.listen (myPort);"/>
			<outline text="" created="Thu, 30 Jan 2014 23:00:00 GMT" pgfnum="36618"/>
			<outline text="//random test code" created="Thu, 30 Jan 2014 23:00:00 GMT" pgfnum="36619">
				<outline text="s3Redirect (&quot;/beta.fargo.io/tmp.html&quot;, &quot;http://davewiner.com/&quot;);" created="Thu, 30 Jan 2014 22:59:04 GMT" pgfnum="36617"/>
				<outline text="" created="Thu, 30 Jan 2014 22:58:35 GMT" pgfnum="36614"/>
				</outline>
			<outline text="console.log (&quot;&quot;);" created="Tue, 28 Jan 2014 00:44:50 GMT" pgfnum="36532"/>
			<outline text="console.log (&quot;&quot;);" created="Tue, 28 Jan 2014 00:44:50 GMT" pgfnum="36532"/>
			<outline text="console.log (&quot;Fargo Publisher server v&quot; + myVersion + &quot;.&quot;);" created="Wed, 22 Jan 2014 23:53:16 GMT" pgfnum="36425"/>
			<outline text="console.log (&quot;&quot;);" created="Tue, 28 Jan 2014 00:44:50 GMT" pgfnum="36532"/>
			<outline text="console.log (&quot;S3 data path == &quot; + s3DataPath + &quot;.&quot;);" created="Tue, 28 Jan 2014 00:15:08 GMT" pgfnum="36530"/>
			<outline text="console.log (&quot;S3 names path == &quot; + s3NamesPath + &quot;.&quot;);" created="Tue, 28 Jan 2014 00:15:08 GMT" pgfnum="36530"/>
			<outline text="console.log (&quot;S3 stats path == &quot; + s3StatsPath + &quot;.&quot;);" created="Tue, 28 Jan 2014 00:15:08 GMT" pgfnum="36530"/>
			<outline text="console.log (&quot;Domain == &quot; + myDomain + &quot;.&quot;);" created="Tue, 28 Jan 2014 00:15:08 GMT" pgfnum="36530"/>
			<outline text="console.log (&quot;Port == &quot; + myPort + &quot;.&quot;);" created="Tue, 28 Jan 2014 00:15:08 GMT" pgfnum="36530"/>
			<outline text="console.log (&quot;&quot;);" created="Tue, 28 Jan 2014 00:44:50 GMT" pgfnum="36532"/>
			</outline>
		<outline text="" created="Wed, 29 Jan 2014 22:02:05 GMT" pgfnum="36557"/>
		<outline text="Old stuff" created="Wed, 29 Jan 2014 22:02:05 GMT" pgfnum="36558">
			<outline text="var db = new AWS.DynamoDB ();" isComment="true"/>
			<outline text="//Old versions using DynamoDB" isComment="true" created="Wed, 22 Jan 2014 22:39:18 GMT" pgfnum="36385">
				<outline text="function addNameRecord (recordkey, opmlUrl, callback) { //add &quot;dave&quot; to give the name dave.smallpict.com to the outline" isComment="true" created="Wed, 22 Jan 2014 15:48:33 GMT" pgfnum="36307">
					<outline text="httpReadUrl (opmlUrl, function (httptext) {" created="Tue, 21 Jan 2014 18:30:26 GMT" pgfnum="36096">
						<outline text="var packageUrl = scrapeTagValue (httptext, &quot;linkHosting&quot;);" created="Tue, 21 Jan 2014 21:28:37 GMT" pgfnum="36133"/>
						<outline text="var params = {" created="Wed, 22 Jan 2014 01:39:07 GMT" pgfnum="36177">
							<outline text="TableName: myTableName," created="Wed, 22 Jan 2014 01:44:46 GMT" pgfnum="36183"/>
							<outline text="Item: {" created="Wed, 22 Jan 2014 01:51:27 GMT" pgfnum="36191">
								<outline text="name: {&quot;S&quot;: recordkey}," created="Wed, 22 Jan 2014 01:51:42 GMT" pgfnum="36193"/>
								<outline text="opmlUrl: {&quot;S&quot;: opmlUrl}," created="Wed, 22 Jan 2014 01:39:21 GMT" pgfnum="36180"/>
								<outline text="packageUrl: {&quot;S&quot;: packageUrl}," created="Wed, 22 Jan 2014 01:39:21 GMT" pgfnum="36180"/>
								<outline text="whenCreated: {&quot;S&quot;: new Date ().toString ()}" created="Wed, 22 Jan 2014 01:39:21 GMT" pgfnum="36180"/>
								<outline text="}" created="Wed, 22 Jan 2014 01:51:32 GMT" pgfnum="36192"/>
								</outline>
							<outline text="};" created="Wed, 22 Jan 2014 01:39:10 GMT" pgfnum="36178"/>
							</outline>
						<outline text="db.putItem (params, function (err, data) {" created="Wed, 22 Jan 2014 01:38:23 GMT" pgfnum="36169">
							<outline text="if (callback != undefined) {" created="Wed, 22 Jan 2014 15:51:00 GMT" pgfnum="36314">
								<outline text="callback (err, data);" created="Wed, 22 Jan 2014 15:51:14 GMT" pgfnum="36316"/>
								<outline text="}" created="Wed, 22 Jan 2014 15:51:08 GMT" pgfnum="36315"/>
								</outline>
							<outline text="});" created="Wed, 22 Jan 2014 01:38:46 GMT" pgfnum="36171"/>
							</outline>
						<outline text="});" created="Tue, 21 Jan 2014 21:29:40 GMT" pgfnum="36141"/>
						</outline>
					<outline text="}" created="Wed, 22 Jan 2014 15:48:48 GMT" pgfnum="36313"/>
					</outline>
				<outline text="function isNameDefined (recordkey, callback) {" isComment="true" created="Wed, 22 Jan 2014 03:44:19 GMT" pgfnum="36257">
					<outline text="getNameRecord (recordkey, function (data) {" created="Wed, 22 Jan 2014 03:44:40 GMT" pgfnum="36262">
						<outline text="callback (data.Item != undefined);" created="Wed, 22 Jan 2014 03:45:13 GMT" pgfnum="36264"/>
						<outline text="});" created="Wed, 22 Jan 2014 03:45:00 GMT" pgfnum="36263"/>
						</outline>
					<outline text="}" created="Wed, 22 Jan 2014 03:44:35 GMT" pgfnum="36261"/>
					</outline>
				<outline text="function getNameRecord (recordkey, callback) { //if looking up dave.smallpict.com info, recordkey == dave" isComment="true" created="Wed, 22 Jan 2014 03:13:40 GMT" pgfnum="36221">
					<outline text="var params = {" created="Wed, 22 Jan 2014 02:02:04 GMT" pgfnum="36201">
						<outline text="TableName: myTableName," created="Wed, 22 Jan 2014 01:44:46 GMT" pgfnum="36183"/>
						<outline text="AttributesToGet: [" created="Wed, 22 Jan 2014 02:07:55 GMT" pgfnum="36209">
							<outline text="&quot;opmlUrl&quot;, &quot;packageUrl&quot;, &quot;whenCreated&quot;" created="Wed, 22 Jan 2014 02:08:07 GMT" pgfnum="36211"/>
							<outline text="]," created="Wed, 22 Jan 2014 02:07:57 GMT" pgfnum="36210"/>
							</outline>
						<outline text="Key: {" created="Wed, 22 Jan 2014 02:08:45 GMT" pgfnum="36212">
							<outline text="name: {&quot;S&quot;: recordkey}" created="Wed, 22 Jan 2014 02:09:02 GMT" pgfnum="36214"/>
							<outline text="}" created="Wed, 22 Jan 2014 02:08:52 GMT" pgfnum="36213"/>
							</outline>
						<outline text="}" created="Wed, 22 Jan 2014 02:02:07 GMT" pgfnum="36202"/>
						</outline>
					<outline text="db.getItem (params, function (err, data) {" created="Wed, 22 Jan 2014 02:06:29 GMT" pgfnum="36204">
						<outline text="callback (data);" created="Wed, 22 Jan 2014 02:09:50 GMT" pgfnum="36215"/>
						<outline text="});" created="Wed, 22 Jan 2014 02:09:54 GMT" pgfnum="36216"/>
						</outline>
					<outline text="}" created="Wed, 22 Jan 2014 03:14:01 GMT" pgfnum="36224"/>
					</outline>
				</outline>
			</outline>
		</body>
	</opml>